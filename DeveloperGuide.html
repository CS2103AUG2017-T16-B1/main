<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Ark - Developer Guide</title>
<link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Ark - Developer Guide</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>CS2103AUG2017 Team T16-B1</code>      Since: <code>Sept 2017</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#what-is-ark">1.1. What is Ark?</a></li>
<li><a href="#about-this-guide">1.2. About this guide</a></li>
</ul>
</li>
<li><a href="#setting-up">2. Setting up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">2.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">2.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></li>
</ul>
</li>
<li><a href="#design">3. Design</a>
<ul class="sectlevel2">
<li><a href="#architecture">3.1. Architecture</a></li>
<li><a href="#ui-component">3.2. UI component</a></li>
<li><a href="#logic-component">3.3. Logic component</a></li>
<li><a href="#model-component">3.4. Model component</a></li>
<li><a href="#storage-component">3.5. Storage component</a></li>
<li><a href="#common-classes">3.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">4. Implementation</a>
<ul class="sectlevel2">
<li><a href="#undo-redo-mechanism">4.1. Undo/Redo mechanism</a></li>
<li><a href="#logging">4.2. Logging</a></li>
<li><a href="#configuration">4.3. Configuration</a></li>
<li><a href="#google-maps-search-browser">4.4. Google Maps Search Browser</a></li>
<li><a href="#tab-change-mechanism">4.5. Tab change mechanism</a></li>
<li><a href="#overdue-parcels-popup-window">4.6. Overdue parcels popup window</a></li>
<li><a href="#backup-mechanism">4.7. Backup Mechanism</a></li>
<li><a href="#import-mechanism">4.8. Import Mechanism</a></li>
<li><a href="#tab-autocomplete-mechanism">4.9. Tab autocomplete mechanism</a></li>
<li><a href="#tracking-number-field">4.10. Tracking Number Field</a></li>
<li><a href="#postal-code-field">4.11. Postal Code Field</a></li>
<li><a href="#status-field">4.12. Status field</a></li>
<li><a href="#delivery-date-field">4.13. Delivery Date field</a></li>
<li><a href="#tags-field">4.14. Tags Field</a></li>
<li><a href="#maintain-sorted-and-selection-mechanism">4.15. Maintain sorted and selection mechanism</a></li>
<li><a href="#arkbot-telegram-bot-interface-for-ark">4.16. ArkBot: Telegram Bot Interface for Ark</a></li>
</ul>
</li>
<li><a href="#documentation">5. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">5.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">5.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></li>
</ul>
</li>
<li><a href="#testing">6. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">6.1. Running Tests</a></li>
<li><a href="#types-of-tests">6.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">7. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">7.1. Build Automation</a></li>
<li><a href="#continuous-integration">7.2. Continuous Integration</a></li>
<li><a href="#making-a-release">7.3. Making a Release</a></li>
<li><a href="#managing-dependencies">7.4. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#user-stories">Appendix A: User Stories</a></li>
<li><a href="#use-cases">Appendix B: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix C: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix D: Glossary</a></li>
<li><a href="#product-survey">Appendix E: Product Survey</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">1. Introduction</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="what-is-ark"><a class="link" href="#what-is-ark">1.1. What is Ark?</a></h3>
<div class="paragraph">
<p>Ark is a Command Line Interface software that helps delivery and shipping vendors manage their parcels and deliveries.
Ark allows these delivery companies to track the parcels that they have to deliver to their customers, and empowers
delivery vendors with simple end-to-end management of these deliveries. Ark also provides route optimization features
to help vendors optimize their deliveries based on time or distance.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-this-guide"><a class="link" href="#about-this-guide">1.2. About this guide</a></h3>
<div class="paragraph">
<p>The purpose of this developer guide is to help incoming developers, project managers and executives understand the
high-level details of the Ark software and help them develop code in coherence with our guidelines. Such details
include the Ark architecture and system, its components and the interaction between these components.<br></p>
</div>
<div class="paragraph">
<p>This guide contains information pertaining to issues such as:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Setting up the development environment for Ark.</p>
</li>
<li>
<p>Understanding the high-level components of Ark.</p>
</li>
<li>
<p>Understanding the various features and their implementations in Ark.</p>
</li>
<li>
<p>Adding documentation to document the changes you have made.</p>
</li>
<li>
<p>Running tests for the code in Ark.</p>
</li>
<li>
<p>Details on how to manage the Ark project using Version Control and Continuous Integration.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">2. Setting up</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">2.1. Prerequisites</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code>1.8.0_60</code></strong> or later</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having any Java 8 version is not enough.<br>
This app will not work with earlier versions of Java 8.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFx plugins installed.<br>
Do not disable them. If you have disabled them, go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Plugins</code> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">2.2. Setting up the project in your computer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <code>File</code> &gt; <code>Close Project</code> to close the existing project
dialog first)</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <code>Configure</code> &gt; <code>Project Defaults</code> &gt; <code>Project Structure</code></p>
</li>
<li>
<p>Click <code>New&#8230;&#8203;</code> and find the directory of the JDK</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <code>Import Project</code></p>
</li>
<li>
<p>Locate the <code>build.gradle</code> file and select it. Click <code>OK</code></p>
</li>
<li>
<p>Click <code>Open as Project</code></p>
</li>
<li>
<p>Click <code>OK</code> to accept the default settings</p>
</li>
<li>
<p>Open a console and run the command <code>gradlew processResources</code> (Mac/Linux: <code>./gradlew processResources</code>). It should
finish with the <code>BUILD SUCCESSFUL</code> message.<br>
This will generate all resources required by the application and tests.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">2.3. Verifying the setup</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>seedu.address.MainApp</code> and try a few commands</p>
</li>
<li>
<p><a href="#testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">2.4. Configurations to do before writing code</a></h3>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">2.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://oss-generic.github.io/process/codingStandards/CodingStandard-Java.html">oss-generic coding
standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To
rectify,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <code>File</code> &gt; <code>Settings&#8230;&#8203;</code> (Windows/Linux), or <code>IntelliJ IDEA</code> &gt; <code>Preferences&#8230;&#8203;</code> (macOS)</p>
</li>
<li>
<p>Select <code>Editor</code> &gt; <code>Code Style</code> &gt; <code>Java</code></p>
</li>
<li>
<p>Click on the <code>Imports</code> tab to set the order</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>: Set to <code>999</code> to prevent
IntelliJ from contracting the import statements</p>
</li>
<li>
<p>For <code>Import Layout</code>: The order is <code>import static all other imports</code>, <code>import java.*</code>, <code>import javax.*</code>,
<code>import org.*</code>, <code>import com.*</code>, <code>import all other imports</code>. Add a <code>&lt;blank line&gt;</code> between each <code>import</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check
style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">2.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p>After forking the repo, links in the documentation will still point to the <code>CS2103AUG2017-T16-B1/main</code> repo. If you
plan to develop this as a separate product (i.e. instead of contributing to the <code>CS2103AUG2017-T16-B1/main</code>) ,
you should replace the URL in the variable <code>repoURL</code> in <code>DeveloperGuide.adoc</code> and <code>UserGuide.adoc</code> with the
URL of your fork.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">2.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p>Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how
to set it up.</p>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms
(Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">2.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p>When you are ready to start coding,</p>
</div>
<div class="paragraph">
<p>Before you start contributing to Ark, get some sense of the overall design by reading the
 <a href="#architecture">Architecture</a> section.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">3. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="architecture"><a class="link" href="#architecture">3.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.1 : Architecture Diagram</em></p>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of
each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.pptx</code> files used to create diagrams in this document can be found in the <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/docs/diagrams/">diagrams</a>
folder. To update a diagram, modify the diagram in the pptx file, select the objects of the diagram, and choose <code>Save
as picture</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has only one class called <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible
for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#common-classes"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components. Two of those
classes play important roles at the architecture level.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>EventsCenter</code> : This class (written using <a href="https://github.com/google/guava/wiki/EventBusExplained">Google&#8217;s Event Bus
library</a>) is used by components to communicate with other components using events (i.e. a form of <em>Event Driven</em> design)</p>
</li>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ui-component"><strong><code>UI</code></strong></a> : The UI of the App.</p>
</li>
<li>
<p><a href="#logic-component"><strong><code>Logic</code></strong></a> : The command executor.</p>
</li>
<li>
<p><a href="#model-component"><strong><code>Model</code></strong></a> : Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#storage-component"><strong><code>Storage</code></strong></a> : Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface
and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.2 : Class Diagram of the Logic Component</em></p>
</div>
<h4 id="events-driven-nature-of-the-design" class="discrete">Events-Driven nature of the design</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact for the scenario where the user issues the command
<code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePerson.png" alt="SDforDeletePerson" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.3a : Component interactions for <code>delete 1</code> command (part 1)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the <code>Model</code> simply raises a <code>AddressBookChangedEvent</code> when the address book data are changed, instead of
asking the <code>Storage</code> to save the updates to the hard disk.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The diagram below shows how the <code>EventsCenter</code> reacts to that event, which eventually results in the updates being
saved to the hard disk and the status bar of the UI being updated to reflect the 'Last Updated' time.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeletePersonEventHandling.png" alt="SDforDeletePersonEventHandling" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.1.3b : Component interactions for <code>delete 1</code> command (part 2)</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Note how the event is propagated through the <code>EventsCenter</code> to the <code>Storage</code> and <code>UI</code> without <code>Model</code> having to be
coupled to either of them. This is an example of how this Event Driven approach helps us reduce direct coupling between
components.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="ui-component"><a class="link" href="#ui-component">3.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.2.1 : Structure of the UI Component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>ParcelListPanel</code>,
<code>StatusBarFooter</code>, <code>BrowserPanel</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that
are in the <code>src/main/resources/view</code> folder. For example, the layout of the
<a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in
<a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Binds itself to some data in the <code>Model</code> so that the UI can auto-update when data in the <code>Model</code> change.</p>
</li>
<li>
<p>Responds to events raised from various parts of the App and updates the UI accordingly.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="logic-component"><a class="link" href="#logic-component">3.3. Logic component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.1 : Structure of the Logic Component</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.2 : Structure of Commands in the Logic Component. This diagram shows finer details concerning <code>XYZCommand</code>
and <code>Command</code> in Figure 3.3.1</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>AddressBookParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a parcel) and/or raise events.</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API
call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteParcelSdForLogic.png" alt="DeleteParcelSdForLogic" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.3.3 : Interactions Inside the Logic Component for the <code>delete 1</code> Command</em></p>
</div>
</div>
<div class="sect2">
<h3 id="model-component"><a class="link" href="#model-component">3.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="1000">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.4.1 : Structure of the Model Component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the data from interactions with AddressBook.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;ReadOnlyParcel&gt;</code> that can be 'observed' e.g. the UI can be bound to this list
so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="storage-component"><a class="link" href="#storage-component">3.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 3.5.1 : Structure of the Storage Component</em></p>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the Address Book data in xml format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="common-classes"><a class="link" href="#common-classes">3.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.addressbook.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">4. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="undo-redo-mechanism"><a class="link" href="#undo-redo-mechanism">4.1. Undo/Redo mechanism</a></h3>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports undoing
and redoing of commands that modifies the state of address book (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from
<code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead.
The following diagram shows the inheritance diagram for commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.1 : Inheritance diagram for commands</em></p>
</div>
<div class="paragraph">
<p>As you can see from the diagram, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and
concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing
a command in an <em>undoable</em> way, such as saving the state of the address book before execution. <code>UndoableCommand</code>
contains the high-level algorithm for those extra tasks while the child classes implements the details of how to execute
the specific command. Note that this technique of putting the high-level algorithm in the parent class and lower-level
steps of the algorithm in child classes is also known as the
<a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th parcel in the address book. The current state
of the address book is saved before the <code>delete 5</code> command executes. The <code>delete 5</code> command will then be pushed onto
the <code>undoStack</code> (the current state is saved together with the command).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2 : State of the undoStack and redoStack after <code>delete 5</code> is executed</em></p>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may
execute <code>add n/David &#8230;&#8203;</code> to add a new parcel.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.2 : State of the undoStack and redoStack after <code>add n/David</code> is executed</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the parcel was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the
address book to the state before the <code>add</code> command executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.3 : State of the undoStack and redoStack after <code>undo</code> is executed</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, then there are no other commands left to be undone, and an <code>Exception</code> will be thrown when
popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.4 : Sequence diagram of the undo operation</em></p>
</div>
<div class="paragraph">
<p>The redo does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and restores the address book to the
state after the command is executed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and an <code>Exception</code> will be thrown when
popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This
time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command
(this is the behavior that most modern desktop applications follow).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.5 : State of the undoStack and redoStack after <code>clear</code> is executed</em></p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code>
rather than <code>UndoableCommand</code>, will not be added after execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.6 : State of the undoStack and redoStack after <code>list</code> is executed</em></p>
</div>
<div class="paragraph">
<p>The following activity diagram summarize what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.1.7 : The activity diagram describing what happens inside the <code>UndoRedoStack</code> when the user executes a new
command</em></p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>UndoableCommand</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> We will not lose any undone/redone functionality as it is now part of the default behaviour. Classes that
deal with <code>Command</code> do not have to know that <code>executeUndoableCommand()</code> exist.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Hard for new developers to understand the template pattern.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Just override <code>execute()</code><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Does not involve the template pattern, easier for new developers to understand.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to
undo/redo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: How undo &amp; redo executes</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire address book.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Easy to implement.<br></p>
</li>
<li>
<p><strong>Cons:</strong> May have performance issues in terms of memory usage.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Will use less memory (e.g. for <code>delete</code>, just save the parcel being deleted).<br></p>
</li>
<li>
<p><strong>Cons:</strong> We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="ulist">
<ul>
<li>
<p><strong>Aspect: Type of commands that can be undone/redone</strong><br></p>
</li>
<li>
<p><strong>Alternative 1 (current choice):</strong> Only include commands that modifies the address book (<code>add</code>, <code>clear</code>, <code>edit</code>).<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> We only revert changes that are hard to change back (the view can easily be re-modified as no data are
lost).<br></p>
</li>
<li>
<p><strong>Cons:</strong> User might think that undo also applies when the list is modified (undoing filtering for example), only to
realize that it does not do that, after executing <code>undo</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Include all commands.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Might be more intuitive for the user.<br></p>
</li>
<li>
<p><strong>Cons:</strong> User have no way of skipping such commands if he or she just want to reset the state of the address book and
not the view.<br></p>
</li>
<li>
<p><strong>Additional Info:</strong> See our discussion
<a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Data structure to support the undo/redo commands</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Easy to understand for new Computer Science student undergraduates to understand, who are likely to be the
new incoming developers of our project.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Logic is duplicated twice. For example, when a new command is executed, we must remember to update both
<code>HistoryManager</code> and <code>UndoRedoStack</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> We do not need to maintain a separate stack, and just reuse what is already in the codebase.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Requires dealing with commands that have already been undone: We must remember to skip these commands.
Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different
things.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">4.2. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and
logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file
(See <a href="#configuration">Configuration</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the
specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of
just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configuration"><a class="link" href="#configuration">4.3. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g App name, logging level) through the configuration file
(default: <code>config.json</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="google-maps-search-browser"><a class="link" href="#google-maps-search-browser">4.4. Google Maps Search Browser</a></h3>
<div class="paragraph">
<p>The google maps search browser enhancement resides within the <code>BrowserPanel</code>.
It takes in a <code>ReadOnlyParcel</code> 's postal code number substring of the parcel&#8217;s address and concatenates it
to the back of Google Map&#8217;s search URL prefix to get a URL for the browser to load.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">4.4.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of Google Maps Search Browser</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Change browser loadPage URL to Google Map search URL<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Its easy to implement new methods to load a new URLs if required to display a different URL.<br></p>
</li>
<li>
<p><strong>Cons:</strong> The map has no other functionality besides searching for the postal code.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (future implementation choice):</strong> Implementing through Google Maps API<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Makes it easier for implementing additional features that utilizes the Maps API which would be required<br>
in future versions of the Ark application.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More difficult to implement and integrate into a command line interface.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tab-change-mechanism"><a class="link" href="#tab-change-mechanism">4.5. Tab change mechanism</a></h3>
<div class="paragraph">
<p>The <code>tab</code> command is facilitated by the <code>TabCommand</code> class within <code>logic</code> and is an extension of the abstract class
<code>Commands</code>. <code>TabCommandParser</code> first checks for valid arguments before returning a new <code>TabCommand</code> and it executes.
A <code>JumpToTabRequestEvent</code> event is raised upon execution to be handled by the <code>ParcelListPanel</code> to display the
switch the selected tab on the UI.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">4.5.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of tab command</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Changing the <code>select</code> command to be able to select tabs and parcels<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Easier for users to understand what the command does by its name alone since
<code>select tab 2</code> or <code>select index 2</code> is descriptive of the commands actions+</p>
</li>
<li>
<p><strong>Cons:</strong> Harder to implement since it would require a large change of <code>SelectCommand</code> class
and its related files to take in a third argument, and user would have to type additional word every select <br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (current choice):</strong> Creating a new command called <code>tab</code><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Easier to implement and less words for the user to input<br></p>
</li>
<li>
<p><strong>Cons:</strong> Just the word "tab" alone is not very descriptive of the commands function.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="overdue-parcels-popup-window"><a class="link" href="#overdue-parcels-popup-window">4.6. Overdue parcels popup window</a></h3>
<div class="paragraph">
<p>The overdue parcels popup window is facilitated by the <code>PopupOverdueParcelsWindow</code> which extends <code>UiPart&lt;Region&gt;</code>
within <code>ui</code>. It creates a new <code>dialogStage</code> which is set to always <code>show</code> on top of <code>MainWindow</code>.</p>
</div>
<div class="paragraph">
<p>A new <code>PopupOverdueParcelsWindow</code> is created and set to show in <code>UiManager</code> on <code>start</code> and takes in an
<code>ObservableList&lt;ReadOnlyParcel&gt;</code> from <code>logic</code> as an argument. This popup window only shows if the method
<code>hasOverdueParcels</code> in <code>UiManager</code> returns true to signify the presence of parcels with <code>OVERDUE</code> status in the
uncompleted parcels list. Another method <code>getNumOverdueParcels</code> is then used to get the integer number of
overdue parcels to display in the popup window.</p>
</div>
<div class="paragraph">
<p><code>Javafx</code> 's animation API for <code>PauseTransition</code> is then used to <code>hide</code> the window after seven seconds.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">4.6.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:  When the popup window shows</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Only at every startup of the Ark application<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Only needs to check the condition to show the popup once and is easy to implement a single check in <code>UiManager</code>.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Only notifies users once an on startup of Ark only so users would not get any more notifications if they
keep their application open constantly<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Check uncompleted parcel list after every command and show popup if overdue parcels are found<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users will be immediately notified of overdue parcels whenever parcel list is changed<br></p>
</li>
<li>
<p><strong>Cons:</strong> May not be necessary since the user themselves would be the ones to <code>add</code> or <code>edit</code> the parcel
causing the <code>OVERDUE</code> status, hence they would already know of the existence of these overdue parcels.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-mechanism"><a class="link" href="#backup-mechanism">4.7. Backup Mechanism</a></h3>
<div class="paragraph">
<p>The back up mechanism is facilitated by a <code>backup(addressBook:AddressBookStorage)</code> method within the <code>StorageManager</code>
class. It supports the backup of data in Ark.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BackupSequenceDiagram.png" alt="BackupSequenceDiagram" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Diagram 4.7.1 : Sequence diagram describing the operation of the <code>storageManager</code> when it is initialized</em></p>
</div>
<div class="paragraph">
<p>As seen in the sequence diagram above, the <code>backup(addressBook:AddressBookStorage)</code> method is called when
<code>storageManager</code> is initialised in <code>MainApp#init()</code>. The <code>MainApp#init()</code> is called when Ark launches.
From the diagram above, the <code>backup()</code> method is called when <code>storageManager</code> is initialized. This backup method first
checks if there is a valid save file loaded into Ark. If there is a save file loaded into Ark,
the <code>backup(addressBook:AddressBook)</code> method will be called. Otherwise, Ark does not backup the missing save file.</p>
</div>
<div class="paragraph">
<p>To save the backup data, Ark first retrieves the backup file path by calling the <code>getBackupStorageFilePath()</code> method.
Then, it will call the <code>saveAddressBook(addressBook, backupStoragePath)</code> method to save a backup of Ark at the retrived
backup file path.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">4.7.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>StorageManager#backup()</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> use the <code>saveAddressBook()</code> method to implement logic.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> It becomes easier to implement method rather than writing out a separate logic for <code>backup()</code>. It
makes updates easier since enhancements to saving Ark in <code>saveAddressBook()</code> will also enhance <code>backup()</code>.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This implementation increases the coupling of <code>backup()</code> and <code>saveAddressBook()</code> where changes in
<code>saveAddressBook()</code> are likely to cause changes in <code>backup()</code> .<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Separate the implementation of <code>backup()</code> from <code>saveAddressBook()</code><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Reduced coupling of <code>saveAddressBook()</code> and <code>backup()</code> and allows the backup file to be saved at a
different location from the main save file. This prevents the backup file from being corrupted if the folder of the
main save file becomes corrupted.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to implement and maintain <code>backup()</code> since enhancements to the saving feature has to
be implemented in both <code>saveAddressBook()</code> and <code>backup()</code><br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Trigger to execute the backup mechanism</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Automatically backup data on launch.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> This implementation ensures that the if the user corrupts the data of Ark during a session. The user will be
able to revert to the start of the session, which is likely to be a functional copy of his original save file.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This does not give the most recent copy of the data of the Ark if many changes were made in a single
session.<br>
1* <strong>Alternative 2:</strong> Backup data every few minutes<br></p>
</li>
<li>
<p><strong>Pros:</strong> Provides a very recent copy of the data on Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious and difficult to implement. User may also be running another process at that point of time.
This could cause a bottleneck if there is a lot of data to be saved, and multiple backup calls will be queued one after
the other if the previous backup process is called even before the current one has finished running.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Backup data after a fixed number of <code>UndoableCommand</code>.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Provides a very recent copy of the data on Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious and difficult to implement. Difficult to determine the optimal amount of data to restore. If
the corruption of the data is caused by a series of commands, it becomes difficult to provide reasonable assurance
that the backup file provides a functional copy of the data of Ark.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Case: Backup if main storage file is not present</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Ark does not backup if it cannot read the main storage file<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Backup data will not be overwritten in the event that Ark is not able to read the designated save file for
reasons such as the save file being corrupted/missing.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Additional overhead to check if Ark is able to read the save file.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong>Back up even if the main storage file does not exist or cannot be read by Ark.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Less overhead needed to check if Ark is able to read the save file.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Backup data could be overwritten in the event the designated save file is corrupted/missing.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="import-mechanism"><a class="link" href="#import-mechanism">4.8. Import Mechanism</a></h3>
<div class="paragraph">
<p>To use this command, you can type <code>import</code> and the name of your file into the <code>CommandBox</code>. e.g. <code>import ark_save</code></p>
</div>
<div class="paragraph">
<p>The <code>import</code> mechanism allows users to import parcels from valid storage files stored in a <code>.xml</code> format. This mechanism
 allows users to add multiple parcels stored in the imported storage file into the running instance of Ark. This
 mechanism is facilitated by the <code>readAddressBook()</code> method within <code>AddressBookStorage()</code> to
load the parcels stored in the storage file and the <code>ModelManager#addAllParcels</code> method to add the parcels in
the storage file into the running instance of <code>Ark</code>.<br></p>
</div>
<div class="paragraph">
<p>Since the <code>import</code> mechanism modifies the data stored in <code>Ark</code>, it should be an extension of the <code>UndoCommand</code>. Thus,
it inherits from the <code>UndoableCommand</code> interface rather than inheriting direclty from the <code>Command</code> interface.<br></p>
</div>
<div class="paragraph">
<p>The following sequence diagram describes the sequence of events that occur when you enter 'import ark_save' into the
 <code>CommandBox</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ImportSequenceDiagram.png" alt="ImportSequenceDiagram" width="1000">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.8.1 : Sequence diagram describing the operation of <code>import</code> when it is executed</em></p>
</div>
<div class="paragraph">
<p>As seen in the sequence diagram above, the command is first parsed to create an <code>ImportCommandParser</code>. This parser
takes the arguments of the import command <code>("ark_save")</code> as the name of the file to import and converts it to a
full file path string <code>("./data/import/ark_save.xml")</code> to locate the file to import. Thereafter, it loads the file
to import into Ark and reads the data. This returns a list of parcels that are used in create an <code>ImportCommand</code>.</p>
</div>
<div class="paragraph">
<p>When the command is executed, the following sequence of events take place:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ImportCommandExecutionFrame.png" alt="ImportCommandExecutionFrame" width="1200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.8.2 : Reference frame for the execution of the Import Command</em></p>
</div>
<div class="paragraph">
<p>As seen in the diagram above, when the command is executed, the <code>executeUndoableMethod</code> methods calls
<code>ModelManager#addAllParcels</code> method. In this method, all unique parcels are added into the running instance of Ark.
If the parcel is not unique such that it will create a duplicate parcel in the current instance of Ark,
the parcel is ignored and the process continues until the last parcel has been added.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The file to be imported has to be stored in the <code>./data/import</code> folder. i.e. calling <code>import ark_save</code> will import the
file <code>./data/import/ark_save.xml</code>.<br>
If the user enters a file name that contains characters other than alphanumeric characters or imports a file that is
not in a <code>.xml</code> format, the command will throw an Exception.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The <code>ImportCommand</code> will only add non-duplicate parcels. Duplicate parcels are ignored.<br>
If all the parcels to be imported into Ark are duplicates, then no parcels are imported and an Exception is thrown.<br>
If the file to import is missing or empty, a <code>CommandException</code> will be thrown
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">4.8.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>ImportCommand</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> using <code>readAddressBook()</code> to implement the logic <code>ImportCommand</code>**<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> It becomes easier to implement method rather than writing out a separate logic to import files. It
makes updates easier since enhancements to <code>readAddressBook()</code> will also enhance the import command such as
more supported save file formats.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This implementation increases the coupling of the <code>readAddressBook()</code> and <code>ImportCommand</code> such that changes
in <code>readAddressBook()</code> is likely to cause a change in <code>ImportCommand</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Implement a parsing logic for <code>ImportCommand</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Reduced coupling of <code>readAddressBook()</code> and <code>ImportCommand</code>. This gives the developers more freedom on
adding more file formats that can be imported.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to implement and maintain <code>ImportCommand</code> since enhancements to the <code>readAddressBook()</code>
feature has to be manually implemented in <code>ImportCommand</code> as well.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Arguments to import files</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Imports save files from only one location<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> User will only store his save files at one location, he will not store them at random locations and lose
track of them. User only has to type the name of the file and does not need to type the full file path to locate
the file. i.e. the user does not need to type <code>./data/import/Ark.xml</code>.<br></p>
</li>
<li>
<p><strong>Cons:</strong> The user has restrictions on where he can import files from.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> User can load the files from any directory<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Allows user to import from his own archived folders anywhere in this computer.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious for the user to type in the full file path to locate the .xml file that he wants to import.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Allowed file names that can be imported</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> File Names can only contain alphanumeric and underscore characters and be in the
<code>.xml</code> format.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users need to constraint their file naming to contain more semantic names rather than having
non-alphanumeric or non-underscore characters in their naming of Ark save files.<br></p>
</li>
<li>
<p><strong>Cons:</strong> The user has restrictions on the file naming conventions he can use to name the save files that he wants
to import.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> No file name check<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Allows user to name his files following any conventions and be successfully imported into Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Makes Ark vulnerable to simple directory traversals where user can access files outside the
<code>data/import/</code> directory.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tab-autocomplete-mechanism"><a class="link" href="#tab-autocomplete-mechanism">4.9. Tab autocomplete mechanism</a></h3>
<div class="paragraph">
<p>The tab autocomplete mechanism is facilitated by the <code>autocompleter</code> package. The structure of the <code>autocompleter</code>
package can be seen in the class diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AutoCompleterClassDiagram.png" alt="AutoCompleterClassDiagram" width="900">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.9.1 : Class diagram of the autocomplete package</em></p>
</div>
<div class="paragraph">
<p>The role of the <code>CommandBoxParser</code> Class is to parse the text in the <code>CommandBox</code> to extract commands and arguments as well
as to find missing prefixes.<br></p>
</div>
<div class="paragraph">
<p>The role of the <code>AutocompleteCommand</code> Enum is to keep track of the current command that the <code>Autocompleter</code>
recognizes.<br></p>
</div>
<div class="paragraph">
<p>The rote of the <code>AutocompleteState</code> Enum is to keep track of the current state of the <code>Autocompleter</code>.<br></p>
</div>
<div class="paragraph">
<p>The <code>Autocompleter</code> class is the main entry point into the package. An instance of the <code>Autocompleter</code> class is
instantiated inside the <code>CommandBox</code> class on start up. Inside the <code>CommandBox</code>, an event listener is
attached to the <code>TextField</code> which calls the <code>updateAutocompleter</code> method whenever the text inside it is
changed. The <code>updateAutocompleter</code> method then calls the <code>updateAutocompleter</code> method in the <code>Autocompleter</code> which
updates the state of the <code>Autocompleter</code> according to the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AutoCompleteStateActivityDiagram.PNG" alt="AutoCompleteStateActivityDiagram" width="900">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.9.2 : Activity diagram of the <code>updateAutocompleter</code> method</em></p>
</div>
<div class="paragraph">
<p>Besides updating the state, the updateState method also updates the <code>possibleAutocompleteOptions</code> list. In the case
where there are multiple commands available, this will contain all the possible options. In the case where multiple
prefixes are available, this will contain the missing prefixes. These options are accessed using the <code>resultIndex</code> which
is either incremented with wrap-around or reset depending on the state of the <code>Autocompleter</code> when autocomplete
is called.<br>
The countingIndex is used to keep track of the index field for commands that need it. Its maximum size is the
size of the current ActiveList in the model. It is either incremented with wrap-around or reset depending on
the state of the <code>Autocompleter</code> when <code>autocomplete</code> is called.
When tab is entered by the user, the <code>autocomplete</code> method is called through the <code>processAutocompelete</code> in the
Command box which then updates the text field according to the diagram below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AutoCompleterAutocompleteActivityDiagram.PNG" alt="AutoCompleterAutocompleteActivityDiagram" width="900">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.9.3 : Activity diagram of the <code>autocomplete</code> method</em></p>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">4.9.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: autocomplete interface </strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice): </strong> A unix like tab auto-completion mechanism that allows users to cycle through
options.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> More intuitive and non-intrusive interface, which improves user experience.</p>
</li>
<li>
<p><strong>Cons:</strong> Harder to implement, the whole autocompleter would be built from the ground up.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2: </strong> A drop down box that gives users suggestions on the options they have.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Can be easily implemented by using a ComboBox in JavaFX.</p>
</li>
<li>
<p><strong>Cons:</strong> Highly intrusive and isn&#8217;t as intuitive as a tab autocomplete. The ComboBox response time might also be
too slow for people who type fast.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>autocomplete</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Create a new <code>Autocompleter</code> class to implement <code>autocomplete</code> and its helper
functions.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Single Responsibility Principle (SRP) is maintained<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to implement and test since the feature is implemented in both <code>Autocompleter</code> and <code>CommandBox</code>.
Also creates coupling between the <code>Autocompleter</code> and <code>CommandBox</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Implement <code>autocomplete</code> inside <code>CommandBox</code></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Easier to test since <code>CommandBoxTest</code> has already been set up and implemented.<br></p>
</li>
<li>
<p><strong>Cons:</strong> <code>CommandBox</code> class now has multiple responsibilities, which violates SRP.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tracking-number-field"><a class="link" href="#tracking-number-field">4.10. Tracking Number Field</a></h3>
<div class="paragraph">
<p>Parcels have tracking numbers for delivery vendors to keep track of the parcels that they send out on a daily basis.
This feature is important because a single person can have many parcels belonging to him. Tracking numbers are used
to differentiate between the different parcels that are going to be delivered to the same person. Tracking numbers also
serve as a better way of narrowing down and pinpointing parcels of interest since these numbers are likely to be more
unique than names in a localized region.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Presently, the <code>Tracking Number</code> Field only has support for Registered Article tracking numbers belonging to SingPost.
You can read more about their Registered Article tracking number
 <a href="http://www.singpost.com/send-receive/sending-within-singapore/registered-article-local">here</a>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations-8"><a class="link" href="#design-considerations-8">4.10.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Tracking Numbers implementation.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Ark allows duplicate <code>TrackingNumber</code> entries.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> In the event that the number of parcels in the users' inventory exceeds the number of possible
<code>TrackingNumber</code> entries, the user will still be able to add the parcel into Ark. There has been instances where
tracking numbers were reused. Moreover, different delivery companies have different policies on how the tracking
numbers` are used. Therefore, it is difficult to implement a general policy for <code>TrackingNumber</code> entries.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Less intuitive to users.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Ark only allows non-duplicate <code>TrackingNumber</code> entries.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> More intuitive for users.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Impossible to add parcel with duplicate entry even if the parcel does have that specific <code>Tracking Number</code>.
This issue can occur during festive periods such as Christmas when the number of parcels can exceed the number of
<code>TrackingNumber</code> entries.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="postal-code-field"><a class="link" href="#postal-code-field">4.11. Postal Code Field</a></h3>
<div class="paragraph">
<p>The postal code field is represented using the <code>PostalCode</code> class. The <code>PostalCode</code> field is implemented as part of the
<code>Address</code> class. The <code>PostalCode</code> class stores the postal address the address text. It only accepts values of
<code>s</code> or <code>S</code> followed by 6 digits. The <code>PostalCode</code> will generate a <code>String</code> to query Google Maps when the <code>select</code>
command is executed or a when a parcel is selected.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Presently, the <code>PostalCode</code> field still does a very relaxed validation and does not completely ensure that the postal
code exists even though it might meet the criteria above. The team is working on producing a database of postal codes
 in Singapore by querying the Google Maps Distance Matrix API. In the meantime, it is assumed that users will enter
 the correct postal code.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations-9"><a class="link" href="#design-considerations-9">4.11.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Implementation of <code>Postal Code</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code>Postal Code</code> is designed as a part of the <code>Address</code> class.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> This composition relationship is more intuitive. If an <code>Address</code> is deleted, its corresponding <code>PostalCode</code>
is also deleted.</p>
</li>
<li>
<p><strong>Cons:</strong> -<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Separate the <code>PostalCode</code> class from the <code>Address</code> class</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> -<br></p>
</li>
<li>
<p><strong>Cons:</strong> When an <code>Address</code> is deleted, its corresponding <code>PostalCode</code> has to be searched and deleted as well. This
results in more overhead.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Valid inputs to the <code>PostalCode</code> class</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> `Postal code accepts postal district codes above 80. (first two digits of postal code)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> This ensures that when new postal code districts are added into Singapore, the user will be able to add the
postal codes from the new postal code district without receiving an error.</p>
</li>
<li>
<p><strong>Cons:</strong> The user might enter postal codes that belong to a non-existent district e.g. S810000<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Reject postal codes with postal district codes above 80.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> The user will have a stricter validation of his postal code.<br></p>
</li>
<li>
<p><strong>Cons:</strong> If a new postal district is added, e.g. 81, and there is parcel that has a postal code belonging to the
district, Ark will reject that parcel from being entered,</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="status-field"><a class="link" href="#status-field">4.12. Status field</a></h3>
<div class="paragraph">
<p><code>Status</code> represents the current stage of delivery that a parcel is at. As seen in the class diagram below,
<code>Status</code> implements an <code>Enumeration</code> interface and it has the four possible values:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatusClassDiagram.png" alt="width:"150"">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.12.1: Status Class Diagram</em></p>
</div>
<div class="paragraph">
<p>The following are the descriptions for the four possible values of <code>Status</code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PENDING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel has not been delivered and has not passed the date it is supposed to be
delivered by.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELIVERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel is currently working being delivered to its destination address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This indicates that the parcel has been successfully delivered to its destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OVERDUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This state indicates that the parcel has not been delivered and has passed its due date.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As seen in the class diagram, the <code>getInstance()</code> method retrieves the static instance of <code>Status</code> based on the <code>status</code>
String input. For example, <code>getInstance("pending")</code> will return the <code>PENDING Status</code>. Additionally, Status is updated
automatically when a parcel is edited or added. The <code>Status</code> of parcels in Ark will also be updated when Ark first launches.
This is done through the <code>getUpdatedInstance(s : Status, d : DeliveryDate)</code> method and the overloaded method
<code>getUpdated(d : DeliveryDate)</code> method.<br></p>
</div>
<div class="paragraph">
<p>The automatic <code>Status</code> update updates based on the comparison of today&#8217;s date to the <code>DeliveryDate</code> object given as the
parameter of <code>getUpdatedStatus()</code>. If today&#8217;s date is after the date indicated in the <code>DeliveryDate</code> object, the method
will return an <code>OVERDUE Status</code>. Otherwise, it will return a <code>PENDING Status</code>. The <code>Status</code> update only works for
<code>Status</code> values of <code>PENDING</code> and <code>OVERDUE</code>. <code>COMPLETED</code> and <code>DELIVERING Status</code> are not updated.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-10"><a class="link" href="#design-considerations-10">4.12.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Implementation of <code>Status</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Status implements an Enumeration interface.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> <code>Status</code> has a fixed number of  values. The user should also not be allowed to create new <code>Status</code> objects.
This also standardizes the naming conventions used to describe the same delivery status in Ark.</p>
</li>
<li>
<p><strong>Cons:</strong> Less options for the user to alter the <code>Status</code> values<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow the user to define any <code>Status</code> they wish.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users have more versatility on naming conventions</p>
</li>
<li>
<p><strong>Cons:</strong> It becomes more difficult to import data files since different users may use different terminologies to
describe the same <code>Status</code> of the parcel.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Updating of <code>Status</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Separate <code>Status</code> update from retrieving an instance of Status</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> By separating the update and retrieval, we are using the Separation of Concerns Principle, <code>getInstance()</code>
checks if the String input is a valid <code>Status</code> and returns it. On the other hand, <code>getUpdatedInstance()</code> receives a
valid <code>Status</code> and returns an updated <code>Status</code> with respect to the <code>DeliveryDate</code> provided as a parameter. Easier to
test these methods and integrate the automatic <code>Status</code> update into the codebase.</p>
</li>
<li>
<p><strong>Cons:</strong> More overhead.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Update <code>Status</code> in <code>getInstance()</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Less overhead and more intuitive.</p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to code because a <code>DeliveryDate</code> object has to be instantiated before user is able to
retrieve an updated <code>Status</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="delivery-date-field"><a class="link" href="#delivery-date-field">4.13. Delivery Date field</a></h3>
<div class="paragraph">
<p><code>Delivery Date</code> is used to indicate the delivery date that the parcel must be delivered by.
The dates are only accepted if they are in the valid format DD-MM-YYYY or understandable by Ark.</p>
</div>
<div class="paragraph">
<p>Ark is able to recognise various forms of dates as shown in the table below but the dates in the Ark are formatted
as DD-MM-YYYY. However, invalid inputs such as a phone number or symbols still will be rejected.</p>
</div>
<div class="paragraph">
<p>Current date as of writing is 12 November 2017.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">User input</th>
<th class="tableblock halign-left valign-top">Date parsed by Ark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">01/01/2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">01.01.2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">First day of 2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">01-01-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The day before yesterday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yesterday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tomorrow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The day after tomorrow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three days from now</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Four days later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seventeenth of November</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">This Friday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next Friday</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24-11-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Christmas Eve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">24-12-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A week before Christmas Eve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17-12-2017</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A year from now</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12-11-2018</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Friday of the second week of January</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query too complicated, date defaults to today</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">123456789</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid date error shown</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">!@#$%^&amp;*()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid date error shown</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The parcel list is maintained in sorted order by comparing
their delivery dates, with the earliest on top.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the delivery date is parsed to
<a href="https://github.com/ocpsoft/prettytime">PrettyTime</a>'s parser:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeliveryDateSequenceDiagram.png" alt="DeliveryDateSequenceDiagram" width="890">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.13.1 : Sequence diagram describing the parsing of delivery date when <code>edit 1 d/today</code> is executed</em></p>
</div>
<div class="paragraph">
<p>As seen in the sequence diagram above, a request comes in to ParserUtil to parse the delivery date. A new
DeliveryDate is then created and within it we instantiate a SimpleDateFormat object with the desired date
format and an instance of PrettyTimeParser. We then request for PrettyTimeParser to parse the string <code>today</code>
and subsequently pass it&#8217;s result into our SimpleDateFormat to format our date in the way we&#8217;ve defined, <code>dd-MM-yyyy</code>.
After the date has been formatted, we store it within the DeliveryDate object to be returned to ParserUtil and
subsequently returned to whichever method which called it.</p>
</div>
</div>
<div class="sect2">
<h3 id="tags-field"><a class="link" href="#tags-field">4.14. Tags Field</a></h3>
<div class="paragraph">
<p><code>Tags</code> are used to indicate how the parcel should be handled. The <code>Tags</code> field can contain one or more of the following <code>Tag</code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tag</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FROZEN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means the parcel should be refrigerated as its contents are temperature sensitive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLAMMABLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcels' contents are highly flammable and should be kept away from heat.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HEAVY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This indicates that the parcel is heavy and may require additional manpower to deliver.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FRAGILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This state indicates that the parcels' contents can be broken easily and requires additional care
when handling.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="design-considerations-11"><a class="link" href="#design-considerations-11">4.14.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Implementation of <code>Tag</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Tag implements the Enumeration interface.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> <code>Tag`s has fixed values. The user should also not be allowed to create new `Tag</code> objects.</p>
</li>
<li>
<p><strong>Cons:</strong> Less options for the user to alter the <code>Tag</code> values<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow the user to define any `Tag`s they wish.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users have more versatility on naming conventions</p>
</li>
<li>
<p><strong>Cons:</strong> It becomes difficult for delivery personnel to keep track of the tags since different personnel might
use different tag names to refer to the same tag.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="maintain-sorted-and-selection-mechanism"><a class="link" href="#maintain-sorted-and-selection-mechanism">4.15. Maintain sorted and selection mechanism</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/AddParcelSdForLogic.png" alt="AddParcelSdForLogic" width="890">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.15.1 : Adding Alice to Ark, maintainSorted is actually called and returns void.</em></p>
</div>
<div class="paragraph">
<p>The list of parcels in Ark is maintained to be always in sorted order according to delivery dates,
with the earliest being on the top. This is so that the user will be able to look at the more
pertinent deliveries.<br></p>
</div>
<div class="paragraph">
<p>The list is sorted whenever a parcel is added, edited. This is
because these commands are the ones that might possibly cause the new parcel to be placed
in the wrong position.<br></p>
</div>
<div class="paragraph">
<p>Ark has two tabs, one for uncompleted parcels, the other for completed parcels. Whenever <code>add</code> and <code>edit</code> commands
are executed, the newly added or edited parcel gets selected. If the status of the newly added or edited parcel is
not on the current active list, a tab switch needs to happen. This is taken care off by the selection mechanism within
the Model Manager class.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-12"><a class="link" href="#design-considerations-12">4.15.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>maintainSorted</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Constant sort the list of parcels whenever there is a change that
potentially could disrupt the order of the list.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Intuitive and guarantees that list is sorted in the right order<br></p>
</li>
<li>
<p><strong>Cons:</strong> Many commands have to be changed<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Insert the new / edited parcel to fit into the sorted list.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Use less computation as the list of parcels is already sorted.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More difficult to implement as we&#8217;ll need to implement our own sorting algorithm as opposed to
just using the built in sorting methods.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arkbot-telegram-bot-interface-for-ark"><a class="link" href="#arkbot-telegram-bot-interface-for-ark">4.16. ArkBot: Telegram Bot Interface for Ark</a></h3>
<div class="paragraph">
<p>ArkBot is written using <a href="https://github.com/rubenlagus/TelegramBots">TelegramBots</a>, a Java library written by
<a href="https://github.com/rubenlagus">rubenlagus</a> to create bots using <a href="https://core.telegram.org/bots/api">Telegram Bots API</a>.</p>
</div>
<div class="paragraph">
<p>At present the following commands have an equivalent in ArkBot: <code>add</code> <code>delete</code> <code>list</code> <code>find</code> <code>undo</code> <code>redo</code> <code>help</code>.</p>
</div>
<div class="paragraph">
<p>ArkBot also has the added functionality of <code>complete</code> which is merely a wrapper around the <code>edit</code> command to mark parcel
deliveries as complete. This is especially useful for our delivery man.</p>
</div>
<div class="paragraph">
<p>Like all Telegram Bots, each command must be prefixed with a <code>/</code> character. So if I were to want to trigger the help
command, I would send <code>/help</code> to ArkBot.</p>
</div>
<div class="paragraph">
<p>If we enter the <code>complete</code> command into ArkBot without any parameters, we enter <code>listen</code> mode.</p>
</div>
<div class="paragraph">
<p>In <code>listen</code> mode, ArkBot is waiting for a QR to be sent to be analysed. The image is then downloaded and using the
<a href="https://github.com/zxing/zxing">zxing</a> barcode scanning library for Java, the information is unwrapped and parsed into
the edit command to change the status of the parcel to <code>COMPLETED</code>.</p>
</div>
<div class="paragraph">
<p>To exit <code>listen</code> mode, type <code>/cancel</code>.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-13"><a class="link" href="#design-considerations-13">4.16.1. Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>ArkBot</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Parse the arguments from the user into various commands as needed. If there any
errors that surface, reply user with default error message.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Functions of commands on Ark remain the same, reusing current implementation<br></p>
</li>
<li>
<p><strong>Cons:</strong> Error catching is difficult, it is difficult to test and slower as information is handle by many parties.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Program each command from the Bot to directly interface with Model and Logic Managers on Ark<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Quicker and more director way of communication. Less reliant on Ark commands.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More difficult to implement as we&#8217;ll need to implement our own version of all the command on Ark.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">5. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility
in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">5.1. Editing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render <code>.adoc</code> files locally to preview
the end result of your edits. Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to
preview the changes you have made to your <code>.adoc</code> files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">5.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">5.3. Converting Documentation to PDF format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as
Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files
in the <code>docs/</code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code>build/docs</code> folder, right click on them and select <code>Open with</code> &#8594;
<code>Google Chrome</code>.</p>
</li>
<li>
<p>Within Chrome, click on the <code>Print</code> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <code>Save as PDF</code>, then click <code>Save</code> to save a copy of the file in PDF format. For best results,
use the settings indicated in the screenshot below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.3.1 : Saving documentation as PDF files in Chrome</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">6. Testing</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">6.1. Running Tests</a></h3>
<div class="paragraph">
<p>There are three ways to run tests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to
platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code>src/test/java</code> folder and choose <code>Run 'All Tests'</code></p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code>Run 'ABC'</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code>gradlew clean allTests</code> (Mac/Linux: <code>./gradlew clean allTests</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 3: Using Gradle (headless)</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX">TestFX</a> library we use, our GUI tests can be run in the <em>headless</em> mode.
In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the
Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code>gradlew clean headless allTests</code> (Mac/Linux:
<code>./gradlew clean headless allTests</code>)</p>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">6.2. Types of tests</a></h3>
<div class="paragraph">
<p>We have two types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>System Tests</em> that test the entire App by simulating user actions on the GUI. These are in the <code>systemtests</code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code>seedu.address.ui</code> package.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code>seedu.address.commons.StringUtilTest</code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be
working).<br>
e.g. <code>seedu.address.storage.StorageManagerTest</code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected
together.<br>
e.g. <code>seedu.address.logic.LogicManagerTest</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">6.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><strong>Problem: <code>HelpWindowTest</code> fails with a <code>NullPointerException</code>.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code>UserGuide.html</code> in <code>src/main/resources/docs</code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code>processResources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">7. Dev Ops</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">7.1. Build Automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">7.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on
our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">7.3. Making a Release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/CS2103AUG2017-T16-B1/main/tree/master/src/main/java/seedu/address/MainApp.java"><code>MainApp.java</code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. <code>v0.1</code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you
created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">7.4. Managing Dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, Address Book depends on the
<a href="http://wiki.fasterxml.com/JacksonHome">Jackson library</a> for XML parsing. Managing these <em>dependencies</em> can be automated
using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives.<br>
a. Include those libraries in the repo (this bloats the repo size)<br>
b. Require developers to download those libraries manually (this creates extra work for developers)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix A: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 8%;">
<col style="width: 17%;">
<col style="width: 30%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ongoing user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a backup of my addressbook data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">restore my addressbook if the storage file becomes corrupted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new parcel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete a parcel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find a parcel by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate details of parcels without having to go through the entire list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the browser to automatically search for the address of the selected parcel in Google Maps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">so that
I can automatically get information on how to get to an address automatically, on click.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to keep track of my deliveries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deliver the packages on time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be alerted for any deliveries to be done today</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deliver the packages on time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort my deliveries by date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know which packages are more urgent to handle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a list of deliveries in one shot using Comma Separated Values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">conveniently parse
information from other sources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">check for deliveries close to deadline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better prepare for busy periods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery company</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">archive completed deliveries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to them in the future</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">to have an autocomplete for the commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I do not need to remember the format of commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">to be notified of the most optimal path of completing my deliveries based on travelling distance</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">lazy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send and receive parcel details to and from other companies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimize the amount of data inputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be reminded of a parcel&#8217;s delivery date (if valid)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in case I forget the date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view daily deliveries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of daily deliveries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">busy user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add and remove tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use addressbook as a task manager</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">store the sender and receiver addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use these addresses as destinations/sources of my deliveries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">share details with contacts with a specific tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimize chance of someone else seeing them by accident</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">assign contacts and locations to tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">link my tasks with people and places</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">assign an expiry date to tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks are deleted automatically</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter parcels by tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view specific parcels that are assigned with specific tags</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter tasks according to location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be notified of deliveries I have at a specific location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">retrieve my exact location on my device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember the current address and store my location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user with a changing schedule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit created tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">change the details of task</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to check the status of my deliveries on the go</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to update the status of my deliveries on the go</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">be able to check the address of the delivery I have to make on the go</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate deliver route based on my list of deliveries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know schedule for the day</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man who travels a lot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">to know the shortest distance from one contact&#8217;s address to another</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delivery man who travels a lot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set a reference location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find the shortest distance from my reference
location to a parcel&#8217;s delivery location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">input instructions into a chatbot interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I do not need to remember the format of commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user with many parcels in the address book</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort parcels by name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">locate a parcel easily</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix B: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>AddressBook</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-delete-parcel" class="discrete">Use case: Delete parcel</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list parcels</p>
</li>
<li>
<p>Ark shows a list of parcels and maximizes the <code>ParcelListPanel</code> in the <code>MainWindow</code> UI</p>
</li>
<li>
<p>User requests to delete a specific parcel in the list</p>
</li>
<li>
<p>Ark deletes the parcel</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
<li>
<p>3a. The given index is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Ark shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-parcel" class="discrete">Use case: Add parcel</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use enters add command with the fields: name, tracking number, email, phone number, delivery date, delivery status
and tags.</p>
</li>
<li>
<p>Ark validates that fields are correct.</p>
</li>
<li>
<p>Ark adds parcel</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Ark detects errors in some fields.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Ark shows an error message.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The user does not input an email.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. Ark adds parcel with <code>NIL</code> in the email field.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1b. The user does not input a phone number.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. Ark adds parcel with <code>NIL</code> in the phone number field.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1c. The user does not input a status.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1c1. Ark adds parcel with <code>PENDING</code> in the status field.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-parcel-by-prompt" class="discrete">Use case: Add parcel by prompt</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to add parcels without further details</p>
</li>
<li>
<p>Ark prompts user to input parcel identification number of parcel to add</p>
</li>
<li>
<p>User inputs identification number as requested</p>
</li>
<li>
<p>Ark prompts user to input name of recipient of parcel to add</p>
</li>
<li>
<p>User inputs name of recipient as requested</p>
</li>
<li>
<p>Ark prompts user to input phone number of recipient of parcel to add</p>
</li>
<li>
<p>User inputs phone number as requested</p>
</li>
<li>
<p>Ark prompts user to input email of recipient of parcel to add</p>
</li>
<li>
<p>User inputs email as requested</p>
</li>
<li>
<p>Ark prompts user to input delivery address of parcel to add</p>
</li>
<li>
<p>User inputs address as requested</p>
</li>
<li>
<p>Ark prompts user to input tags of parcel to add</p>
</li>
<li>
<p>User inputs tags as requested [optional]</p>
</li>
<li>
<p>Ark adds parcel</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. The user does not input a parcel identification number</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 2</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>5a. The user does not input a name</p>
<div class="ulist none">
<ul class="none">
<li>
<p>5a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 4</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>7a. The user does not input a valid phone number</p>
<div class="ulist none">
<ul class="none">
<li>
<p>7a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 6</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>9a. The user does not input a valid email</p>
<div class="ulist none">
<ul class="none">
<li>
<p>9a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 8</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>11a. The user does not input a valid address</p>
<div class="ulist none">
<ul class="none">
<li>
<p>11a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 10</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>13a. The user does not input a tag</p>
<div class="ulist none">
<ul class="none">
<li>
<p>13a1. Ark shows that no tag has been entered</p>
<div class="paragraph">
<p>Use case resumes at step 14</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>14. Ark shows error message if same parcel found</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
<h3 id="use-case-understanding-delivery-dates" class="discrete">Use case: Understanding Delivery Dates</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User adds a parcel with valid inputs and with <code>today</code> as input after delivery date prefix <code>d/</code></p>
</li>
<li>
<p>Ark recognises the intent</p>
</li>
<li>
<p>Ark adds parcel with the current date on the user&#8217;s machine</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. The user inputs an more complicated date query such as <code>the week before christmas eve</code></p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. Ark recognises the intent</p>
</li>
<li>
<p>1a2. Ark adds parcel with the date 17-12-2017, with the year being the current year</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1b. The user inputs an invalid date query such as <code>pen pineapple apple pen</code></p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. Ark does not recognise the intent</p>
</li>
<li>
<p>1b2. Ark shows an error message</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-upload-image-of-parcel-from-local-files" class="discrete">Use case: Upload image of Parcel from local files</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list parcels</p>
</li>
<li>
<p>Ark shows a list of parcels and maximizes the <code>ParcelListPanel</code> in the <code>MainWindow</code> UI</p>
</li>
<li>
<p>User requests to upload image of a specific parcel in the list</p>
</li>
<li>
<p>Ark prompts for location of image</p>
</li>
<li>
<p>User inputs file path</p>
</li>
<li>
<p>Ark updates image</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>6a. The file path given is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>6a1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 4</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>6b. The file type of file given is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>6b1. Ark shows an error message</p>
<div class="paragraph">
<p>Use case resumes at step 4</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-set-user-reference-location" class="discrete">Use case: Set user reference location</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to set reference location</p>
</li>
<li>
<p>Ark updates reference location</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>{More to be added}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix C: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>1.8.0_60</code> or higher installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 parcels without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be
able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Each Command should take at most 1 second to finish execution.</p>
</li>
<li>
<p>Should be able to handle any valid or invalid user input.</p>
</li>
<li>
<p>Should back up data inside the address book each time the user makes changes to the data.</p>
</li>
<li>
<p>Commands that do not require internet connection should still work when the user is not connected to the internet.</p>
</li>
<li>
<p>Should come with automated unit tests.</p>
</li>
<li>
<p>A new user should be able to use basic commands like add and delete without needing to refer to the help window
after their first time using the application.</p>
</li>
<li>
<p>Should allow the user to upload images of any <a href="#mainstream-image-format">mainstream image format</a>.</p>
</li>
<li>
<p><a href="#hash-string">Hash String</a> of the users personal contact information should only be made up of alphanumeric
characters.</p>
</li>
<li>
<p>Should update the map automatically when the user changes their starting location.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>{More to be added}</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix D: Glossary</a></h2>
<div class="sectionbody">
<div id="mainstream-os" class="paragraph">
<p>Mainstream OS</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Windows, Linux, Unix, OS-X</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix E: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Table 1. <strong>Swift</strong>, reviewed by A. Pen Gwyn<br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clean UI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot keep track of how parcel is handled e.g Fragile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automated dispatching</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expensive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proprietary batching algorithm</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 2. <strong>Parcel Management Software</strong>, reviewed by P. Tato<br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Able to keep track of large amounts of data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Poor UI</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fast and Reliable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cannot add multiple parcels quickly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Able to generate delivery routes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 3. <strong>Journey</strong>, reviewed by John Prodman<br></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clean and Intuitive UI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slow response time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automated delivery scheduling</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 14:28:26 +00:00
</div>
</div>
</body>
</html>
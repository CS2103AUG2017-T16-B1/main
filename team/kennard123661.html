<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Kennard Ng Pool Hua - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Kennard Ng Pool Hua - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-ark"><a class="link" href="#project-ark">Project: Ark</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ark is a desktop delivery management application that my team and I built for our Software Engineering module in the
National University of Singapore. We built this application for delivery companies to manage their deliveries.
The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 14kLoC.
 You may access the Ark repository <a href="https://github.com/CS2103AUG2017-T16-B1/main">here</a>.</p>
</div>
<div class="paragraph">
<p>Ark was built on top of <a href=":https://github.com/nus-cs2103-AY1718S1/addressbook-level4">Addressbook - Level 4</a>, an
addressbook application. A number of features were added and refactoring was done to develop the original codebase
into the parcel management application, Ark.</p>
</div>
<div class="paragraph">
<p>You may access the links below for a list of more significant contributions I have made to Ark. Functional code
refers to the code that I have written to enhance the Ark application while Test code refers to the code that I have written
to automate testing for the Ark application.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-T16-B1/main/blob/master/collated/main/kennard123661.md">Functional code</a>][<a href="https://github.com/CS2103AUG2017-T16-B1/main/blob/master/collated/test/kennard123661.md">Test code</a>]</p>
</div>
<div class="paragraph">
<p>The following are my contributions to the project explained in detail:</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-import-feature"><a class="link" href="#enhancement-added-import-feature">Enhancement Added: Import Feature</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="import"><a class="link" href="#import">Import Multiple Parcels into Ark <code>import</code></a></h3>
<div class="paragraph">
<p>You can import parcels into Ark using the <code>import</code> feature. This feature works with valid save files of Ark. To use
this feature, you must first copy/move the save file that you want to import into the <code>/data/import/</code> folder of
Ark&#8217;s home directory. Then you can type the following command into the <code>CommandBox</code>, `import `, followed by the name
of your file.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ark will only import files that are stored in the <code>.xml</code> format.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Your file name is should only contain alphanumeric or underscore characters. e.g. <code>ark_save</code>, <code>ark_save1</code>;<br>
Files name that contain characters other than alphanumeric or underscore characters will be rejected. e.g. <code>ark#1</code>;<br>
Do not include the file type in your file name. The following inputs for the file name will be rejected. <code>ark_save.xml</code>;<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>import ark</code> - This will import parcels stored in <code>data/import/ark.xml</code> into the current instance of Ark</p>
</li>
<li>
<p><code>import ark_save</code> - This will import parcels stored in <code>data/import/ark_save.xml</code> into the current instance of Ark.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Format: <code>import FILE_NAME</code></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>Parcel companies manage millions of deliveries on a daily basis. As such, they have to deal with large amounts of
data and deliveries. Furthermore, adding parcels into Ark individually is time consuming. Hence, I built a
feature that allows parcel companies to import parcels from same files, and add parcels into Ark more efficiently.</p>
</div>
<div class="paragraph">
<p>Moreover, parcels are usually passed from one delivery company to another (or to another shipping company). Hence, I
wanted to make it possible for delivery companies to be able to transfer their Ark save files to each other as they
transfer stewardship of parcels. This would save delivery companies time since they do not need to re-enter data that
the previous delivery company had already entered.</p>
</div>
<div class="paragraph">
<p>I designed this feature to accept <code>.xml</code> only files since Ark stores its files in <code>.xml</code> format and I wanted the
 import command to be compatible with its save files so that it can import its save files.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="import-mechanism"><a class="link" href="#import-mechanism">Import Mechanism</a></h3>
<div class="paragraph">
<p>To use this command, you can type <code>import (FILE_NAME)</code> into the <code>CommandBox</code>. e.g. <code>import ark_save</code></p>
</div>
<div class="paragraph">
<p>The <code>Import</code> mechanism allows users to import parcels from valid <code>Ark</code> storage files stored as <code>.xml</code> files into the
current instance of <code>Ark</code>. This mechanism is facilitated by a <code>readAddressBook</code> method within <code>XmlAddressBookStorage</code> to
load the parcels stored in the <code>xml</code> file and an <code>ModelManager#addAllParcels</code> to add the parcels in
the storage file into the current instance of <code>Ark</code>.<br></p>
</div>
<div class="paragraph">
<p>Since the <code>Import</code> mechanism modifies the data stored in <code>Ark</code>, it has to be an undoable command. Thus, it inherits from
the <code>UndoableCommands</code> interface rather than inheriting direclty from the <code>Command</code> interface.<br></p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>import</code> operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ImportSequenceDiagram.png" alt="ImportSequenceDiagram" width="1000">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.7.1 : Sequence diagram describing the operation of <code>import</code> when it is executed</em></p>
</div>
<div class="paragraph">
<p>As seen in the sequence diagram above, the command is first parsed to create an <code>ImportCommandParser</code>. This parser
takes the arguments of the input as the name of the file to import and converts it to a full file path string to
locate the file to import. Thereafter, it loads the file to import into Ark and reads the data. This returns a list of
parcels that are used in create an <code>ImportCommand</code>.</p>
</div>
<div class="paragraph">
<p>When the command is executed, the following sequence of events take place:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ImportCommandExecutionFrame.png" alt="ImportCommandExecutionFrame" width="1200">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.7.2 : Reference frame for the execution of the Import Command</em></p>
</div>
<div class="paragraph">
<p>As seen in the diagram above, when the command is executed, the <code>executeUndoableMethod</code> methods calls
<code>ModelManager#addAllParcels</code> method. In this method, all unique parcels are added into the running instance of Ark.
If the parcel is not unique such that it will create a duplicate parcel in the inventory, the parcel is ignored and
the process continues until the last parcel has been added.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The file to be imported has to be stored in the <code>./data/import</code> folder. i.e. calling <code>import ark_save</code> will import the
file <code>./data/import/ark_save.xml</code>.<br>
If the user enters a file name that contains characters other than alphanumeric characters or a file name that is
not in a <code>.xml</code> format, the command will throw an Exception.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The <code>ImportCommand</code> will only add non-duplicate parcels. Duplicate parcels are ignored.<br>
If all the parcels to be imported into Ark are duplicates, then no parcels are imported and an Exception is thrown.<br>
If the file to import is either, a <code>CommandException</code> will be thrown
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>ImportCommand</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice): using <code>readAddressBook()</code> to implement the logic <code>ImportCommand</code></strong><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> It becomes easier to implement method rather than writing out a separate logic to import files. It
makes updates easier since enhancements to <code>readAddressBook()</code> will also enhance the import command such as
more supported save file formats.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This implementation increases the coupling of the <code>readAddressBook()</code> and <code>ImportCommand</code> such that changes
in <code>readAddressBook()</code> is likely to cause a change in <code>ImportCommand</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Implement a parsing logic for <code>ImportCommand</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Reduced coupling of <code>readAddressBook()</code> and <code>ImportCommand</code>. This gives the developers more freedom on
adding more file formats that can be imported.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to implement and maintain <code>ImportCommand</code> since enhancements to the <code>readAddressBook()</code>
feature has to be manually implemented in <code>ImportCommand</code> as well.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Arguments to import files</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Imports save files from only one location<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> User will only stored his save files at one location, he will not store them at random locations and lose
track of them. User only has to type the name of the file and does not need to type the full file path to locate
the file. i.e. the user does not need to type <code>./data/import/Ark.xml</code>.<br></p>
</li>
<li>
<p><strong>Cons:</strong> The user has restrictions on where he can import files from.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> User can load the files from any directory<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Allows user to import from his own archived folders anywhere in this computer.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious for the user to type in the full file path to locate the .xml file that he wants to import.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Allowed file names that can be imported</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> File Names can only contain alphanumeric and underscore characters and be in the
<code>.xml</code> format.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users will constraint their file naming to contain more semantic names rather than having symbols in their
naming of Ark save files.<br></p>
</li>
<li>
<p><strong>Cons:</strong> The user has restrictions on the file naming conventions he can use to name his import files<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> No file name check<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Allows user to name his files following any conventions and be successfully imported into Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Makes Ark vulnerable to simple directory traversals where user can access files outside the
<code>data/import/</code> directory.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-backup-feature"><a class="link" href="#enhancement-added-backup-feature">Enhancement Added: Backup Feature</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="back-up"><a class="link" href="#back-up">Backing up the data</a></h3>
<div class="paragraph">
<p>Ark data are backed up in the hard disk automatically at the start of every session of the program.<br>
There is no need to back up the data manually.<br>
The backup file is appended with <code>-backup.xml</code> and is stored in the same folder as the main storage file.<br></p>
</div>
<div class="paragraph">
<p>To load the backup file into Ark, you can perform the following actions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Firstly, open the <code>/data/</code> folder in the home directory of Ark.</p>
</li>
<li>
<p>Then, copy the backup file, and paste the copied file into your <code>/data/import</code> directory. i.e. <code>ark-backup.xml</code></p>
</li>
<li>
<p>Open the Ark Application. If Ark fails to start as a result of corrupted data in your Ark save file, simply delete
the corrupted save file and restart the Ark application.</p>
</li>
<li>
<p>Finally, import the backup save file into Ark by using the <code>import</code> command by typing <code>import (back-up file name)</code> .
i.e. <code>import ark-backup.xml</code><br></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Alternatively, you can delete your original save file and rename your backup file to the name of your original save
 file. However, this approach will result in data being loss if your original save file was not corrupted and contains
 valuable data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If Ark is unable to read your save file for reasons such as the save file being of an invalid format or if your save
file was missing (<strong>gasp</strong>), Ark would not create a backup file for you on start up.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Delivery information is very important to delivery companies. Since it is impossible to prevent corruption of storage files,
I developed an alternative measure, a feature that automatically backs up a reasonable recent version of the corrupted
save file.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-mechanism"><a class="link" href="#backup-mechanism">Backup Mechanism</a></h3>
<div class="paragraph">
<p>The back up mechanism is facilitated by a <code>backupAddressBook()</code> method within the <code>StorageManager</code>. It supports the
backing up of AddressBook data in Ark.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/BackupSequenceDiagram.png" alt="BackupSequenceDiagram" width="600">
</div>
</div>
<div class="paragraph">
<p><em>Diagram 4.6.1 : Sequence diagram describing the operation of the <code>storageManager</code> when it is initialized</em></p>
</div>
<div class="paragraph">
<p>As seen in the sequence diagram above, the <code>backupAddressBook()</code> method is called when <code>storageManager</code> is initialised
in <code>MainApp#init()</code>. This method is called when Ark launches. From the diagram above, the backup() method is called.
This backup method first checks if there is a save file loaded into Ark. If there is a save file loaded into Ark, a
backup will be called. Otherwise, Ark does not backup the missing save file.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect: Implementation of <code>StorageManager#backupAddressBook</code></strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> use the <code>saveAddressBook()</code> method to implement logic.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> It becomes easier to implement method rather than writing out a separate logic for <code>backupAddressBook()</code>. It
makes updates easier since enhancements to <code>saveAddressBook()</code> will also enhance <code>backupAddressBook()</code>.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This implementation increases the coupling of <code>backupAddressBook()</code> and
<code>saveAddressBook()</code> where changes in <code>saveAddressBook()</code> are likely to cause changes in <code>backupAddressBook()</code>.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Separate the implementation of <code>backupAddressBook()</code> from <code>saveAddressBook()</code><br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Reduced coupling of <code>saveAddressBook()</code> and <code>backupAddressBook()</code> and allows the backup file to be saved at a
different location from the main save file. This prevents the backup file from being corrupted if the folder of the
main save file becomes corrupted.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to implement and maintain <code>backupAddressBook()</code> since enhancements to the saving feature has to
be implemented in both <code>saveAddressBook()</code> and <code>backupAddressBook()</code><br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Trigger to execute the backup command</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Automatically backup data on Ark on launch of the software.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> This implementation ensures that the if the user corrupts the data of Ark during a session. The user will be
able to revert to the start of the session, which is ensured to be a workable instance of the Ark software.<br></p>
</li>
<li>
<p><strong>Cons:</strong> This does not give the most recent copy of the data of the Ark if many changes were made in a single session.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Backup data on Ark every few minutes<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Provides a very recent copy of the data on Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious and difficult to implement. User may also be running another process at that point of time. This
could cause a bottleneck if there is a lot of data to be saved, and multiple backup calls are queued one after the
other.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Backup data after a fixed number of `UndoableCommand`s.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Provides a very recent copy of the data on Ark.<br></p>
</li>
<li>
<p><strong>Cons:</strong> More tedious and difficult to implement. Difficult to determine the optimal amount of data to restore. If
the corruption of the data is caused by a several of commands, it becomes difficult to ensure that the backup file
provides a workable copy of the data of Ark.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect: Choice of backing up if there is no save file.</strong><br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Ark does not backup if it cannot read the save file<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Backup data will not be overwritten in the event that Ark is not able to read the designated save file for
reasons such as the save file being corrupted/missing+</p>
</li>
<li>
<p><strong>Cons:</strong> Additional overhead to check if Ark is able to read the designated save file.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Ark backs up even if the save file does not exist.<br></p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Less overhead needed to check if Ark is able to read the designated save file.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Backup data could be overwritten in the event the designated save file is corrupted/missing.<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-status-feature"><a class="link" href="#enhancement-added-status-feature">Enhancement Added: Status Feature</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="status"><a class="link" href="#status">Status Field: Delivery Status of Parcel</a></h3>
<div class="paragraph">
<p><code>Status</code> is used to indicate the current delivery status of a parcel. A parcel can have 4 possible delivery status and
listed below is a description of these <code>Status</code> values.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PENDING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel has not been delivered and has not passed the date it is supposed to be
delivered by.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELIVERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel is currently working being delivered to its destination address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This indicates that the parcel has been successfully delivered to its destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OVERDUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This state indicates that the parcel has not been delivered and has passed its due date.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To input a <code>Status</code>, you can type case-insensitive formats of the above Status. e.g. <code>pending</code> or <code>Pending</code> are valid
inputs to add a <code>PENDING</code> <code>Status</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Values other than the above values will be rejected. e.g. <code>PROCESSING</code>, <code>PROCESSED</code>;
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Parcels can be in several stages of a delivery process. They can be pending delivery, or being delivered at a
particular instance. Hence, it is imperative that delivery companies are able to assign a status to their parcels to
have a clear idea of the stage of delivery that their parcels are at. Moreover, it allows delivery customers to be
accountable to their clients when their clients inquire about the delivery status of their parcels.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="status-field"><a class="link" href="#status-field">Status field</a></h3>
<div class="paragraph">
<p><code>Status</code> represents the current stage of delivery that a parcel is at. As seen in the class diagram below,
<code>Status</code> is implemented using <code>Enumeration</code> interface and it has the four possible values:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/StatusClassDiagram.png" alt="width:"250"">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.13: Status Class Diagram</em></p>
</div>
<div class="paragraph">
<p>The following are the descriptions for the four possible values of <code>Status</code>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PENDING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel has not been delivered and has not passed the date it is supposed to be
delivered by.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELIVERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This means that the parcel is currently working being delivered to its destination address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMPLETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This indicates that the parcel has been successfully delivered to its destination.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OVERDUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This state indicates that the parcel has not been delivered and has passed its due date.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As seen in the class diagram, the <code>getInstance()</code> method retrieves the static instance of <code>Status</code> based on the <code>status</code>
String input. For example, <code>getInstance("pending")</code> will return the <code>PENDING Status</code>. Additionally, Status is updated
automatically when a parcel is edited, added. The Status of parcels in Ark will also be updated when Ark first launches.
This is done through the <code>getUpdatedInstance(s : Status, d : DeliveryDate)</code> method and the overloaded method
<code>getUpdated(d : DeliveryDate)</code> method.<br></p>
</div>
<div class="paragraph">
<p>The automatic <code>Status</code> update updates based on the comparison of today&#8217;s date to the <code>DeliveryDate</code> object given as the
parameter of <code>getUpdatedStatus()</code>. If today&#8217;s date is after the date indicated in the <code>DeliveryDate</code> object, the method
will return an <code>OVERDUE Status</code>. Otherwise, it will return a <code>PENDING Status</code>. The <code>Status</code> update only works for
<code>Status</code> values of <code>PENDING</code> and <code>OVERDUE</code>. <code>COMPLETED</code> and <code>DELIVERING Status</code> are not updated.</p>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Implementation of <code>Status</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Status implements an Enumeration.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> <code>Status</code> has a fixed number of  values. The user should also not be allowed to create new <code>Status</code> objects.
This also standardizes the naming conventions used to describe the same delivery status in Ark.</p>
</li>
<li>
<p><strong>Cons:</strong> Less options for the user to alter the <code>Status</code> values<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Allow the user to define any <code>Status</code> they wish.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Users have more versatility on naming conventions</p>
</li>
<li>
<p><strong>Cons:</strong> It becomes more difficult to import data files since different users may use different terminologies to
describe the same <code>Status</code> of the parcel.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p><strong>Updating of <code>Status</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Separate <code>Status</code> update from retrieving an instance of Status</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> By separating the update and retrieval, we are using the Separation of Concerns Principle, <code>getInstance()</code>
checks if the String input is a valid <code>Status</code> and returns it. On the other hand, <code>getUpdatedInstance()</code> receives a
valid <code>Status</code> and returns an updated <code>Status</code> with respect to the <code>DeliveryDate</code> provided as a parameter. Easier to
test these methods and integrate the automatic <code>Status</code> update into the codebase.</p>
</li>
<li>
<p><strong>Cons:</strong> More overhead.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Update <code>State</code> in <code>getInstance()</code>.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> Less overhead and more intuitive.</p>
</li>
<li>
<p><strong>Cons:</strong> More tedious to code because a <code>DeliveryDate</code> object has to be instantiated before programmer is able to
retrieve a <code>Status</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-tracking-number-feature"><a class="link" href="#enhancement-added-tracking-number-feature">Enhancement Added: Tracking Number Feature</a></h3>
<div class="sect3">
<h4 id="external-behavior-4"><a class="link" href="#external-behavior-4">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tracking-number"><a class="link" href="#tracking-number">Tracking Number Field: Tracking Number of Parcel</a></h3>
<div class="paragraph">
<p>The Tracking Number field represents the tracking number of the parcels.</p>
</div>
<div class="paragraph">
<p>This field allows you to add tracking numbers to your parcels. Tracking numbers allow you to keep track of the parcels
that are in your possession. This field is important because a single person can have many parcels belonging to
him. Hence, you can use our Tracking Number to differentiate between the different parcels that are allocated to a
single recipient. You can also use tracking numbers to identify specific parcels to be allocated</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ark only supports tracking numbers for registered articles managed by SingPost at this instance. These
numbers include two <code>R`s followed by nine digits and ending with `SG</code>. e.g. <code>RR123456789SG</code><br>
You can read more about SingPost Registered Article tracking number
 <a href="http://www.singpost.com/send-receive/sending-within-singapore/registered-article-local">here</a>.<br>
Tracking numbers that do not conform to the above format will be rejected e.g. <code>rr123545679sg</code>; <code>RR#12345678SG</code>;
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can add multiple parcels with the same tracking number. This allows you to reuse tracking numbers in the event when
the number of parcels in your inventory exceeds the number of tracking numbers. There has been instances of this
occurring during festive seasons such as Christmas.<br>
The team is working on adding support for more types of tracking numbers such as those of
 <a href="https://www.ups.com/tracking/tracking.html">UPS</a> and <a href="https://www.fedex.com/sg/">FedEx</a> in the future.<br>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>{{to be added}}</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tracking-number-field"><a class="link" href="#tracking-number-field">Tracking Number Field</a></h3>
<div class="paragraph">
<p>Parcels have tracking numbers for delivery vendors to keep track of the parcels that they send out on a daily basis.
This feature is important because a single person can have many parcels belonging to him. Tracking numbers are used
to differentiate between the different parcels that are going to be delivered to the same person. Tracking numbers also
serve as a better way of narrowing down and pinpointing parcels of interest since these numbers are likely to be more
unique than names in a localized region.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Presently, the <code>Tracking Number</code> Field only has support for Registered Article tracking numbers belonging to SingPost.
You can read more about their Registered Article tracking number
 <a href="http://www.singpost.com/send-receive/sending-within-singapore/registered-article-local">here</a>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Tracking Numbers implementation.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Ark allows duplicate <code>TrackingNumber</code> entries.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> In the event that the number of parcels in the users' inventory exceeds the number of possible
<code>TrackingNumber</code> entries, the user will still be able to add the parcel into Ark. There has been instances where
tracking numbers were reused. Moreover, different delivery companies have different policies on how the tracking
numbers` are used. Therefore, it is difficult to implement a general policy for <code>TrackingNumber</code> entries.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Less intuitive to users.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Ark only allows non-duplicate <code>TrackingNumber</code> entries.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> More intuitive for users.<br></p>
</li>
<li>
<p><strong>Cons:</strong> Impossible to add parcel with duplicate entry even if the parcel does have that specific <code>Tracking Number</code>.
This issue can occur during festive periods such as Christmas when the number of parcels can exceed the number of
<code>TrackingNumber</code> entries.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-postal-code-feature"><a class="link" href="#enhancement-added-postal-code-feature">Enhancement Added: Postal Code Feature</a></h3>
<div class="sect3">
<h4 id="external-behavior-5"><a class="link" href="#external-behavior-5">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="postal-code"><a class="link" href="#postal-code">Postal Code: Postal Code of Delivery Address of the Parcel</a></h4>
<div class="paragraph">
<p>Ark can store the postal address of locations in Singapore. It only accepts values of <code>s</code> or <code>S</code> followed by 6 digits.
The postal code of a parcel is used to query Google Maps when the <code>select</code> command is executed or when a parcel in the
Parcel List Panel is clicked. Invalid values would include the following: <code>213661</code>; <code>s#11122</code>;</p>
</div>
<div class="paragraph">
<p><strong>Postal codes must be appended to the end of the address text.</strong> e.g. Suppose you are adding a new parcel into Ark and
entered <code>add &#8230;&#8203;(Some info)&#8230;&#8203; a/NUS School of Computing, COM1, 13 Computing Drive, S117417 &#8230;&#8203;(More info required
in the add command)&#8230;&#8203;</code>. In this case, <code>S11417</code> is the postal code of the above address and is appended to its
respective address, separated by a space.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you did not append the postal code of the address at the end of your address, Ark will not recognize your address
input as a valid input and would give you an invalid input message.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Presently, the <code>PostalCode</code> field still does a very relaxed validation and does not completely ensure that the postal
code exists even though it might meet the criteria above. The team is working on producing a database of postal codes
 in Singapore. In the meantime, we encourage users to take additional precautions when entering the postal codes
 into Ark and ensure that the postal code inputs are valid.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-5"><a class="link" href="#justification-5">Justification</a></h4>
<div class="paragraph">
<p>{Justify the need for, and the current design (i.e. external behavior) of, the feature}</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="postal-code-field"><a class="link" href="#postal-code-field">Postal Code Field</a></h3>
<div class="paragraph">
<p>The Postal Code field is implemented as part of Address. The <code>Postal Code</code> class stores the postal address of locations
in Singapore. It only accepts values of <code>s</code> or <code>S</code> followed by 6 digits. The value stored in this class is used to store
 the postal code of the address. The value is used to query Google Maps when the <code>select</code> command is executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Presently, the <code>PostalCode</code> field still does a very relaxed validation and does not completely ensure that the postal
code exists even though it might meet the criteria above. The team is working on producing a database of postal codes
 in Singapore by quering the Google Maps Distance Matrix API. In the meantime, it is assumed that users will enter
 the correct postal code.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Implementation of <code>Postal Code</code></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code>Postal Code</code> is designed as a part of the <code>Address</code> class.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> This composition relationship is more intuitive. If an <code>Address</code> is deleted, its corresponding <code>Postal
Code</code> is also deleted.</p>
</li>
<li>
<p><strong>Cons:</strong> -<br></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Separate the <code>PostalCode</code> class from the <code>Address</code> class</p>
<div class="ulist">
<ul>
<li>
<p><strong>Pros:</strong> -<br></p>
</li>
<li>
<p><strong>Cons:</strong> When an <code>Address</code> is deleted, its corresponding <code>PostalCode</code> has to be searched and deleted as well. This
results in more overhead.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-optimization-of-delivery-scheduling-based-on-time-or-distance"><a class="link" href="#enhancement-proposed-optimization-of-delivery-scheduling-based-on-time-or-distance">Enhancement Proposed: Optimization of delivery scheduling based on time or distance.</a></h3>

</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Made the decision for the team to model the application&#8217;s GUI to be similar to that of iTunes</p>
</li>
<li>
<p>Main software developer for the team (you can view a summary of my contributions the github project page
<a href="https://github.com/CS2103AUG2017-T16-B1/main/graphs/contributors">here</a></p>
</li>
<li>
<p>Refactored all instance of Person to Parcel in the codebase. You can view my pull request
here <a href="https://github.com/CS2103AUG2017-T16-B1/main/pull/50">here</a></p>
</li>
<li>
<p>Added Tooltip on mouseover of fields in the parcel. This was a necessary change since parts of the field will be
missing and be replaced if with ellipsis <code>&#8230;&#8203;</code> if it was too long. You can view my pull-request
<a href="https://github.com/CS2103AUG2017-T16-B1/main/pull/168">here</a></p>
</li>
<li>
<p>Change name and icon of Ark. You can view the pull request <a href="https://github.com/CS2103AUG2017-T16-B1/main/pull/167">here</a></p>
</li>
<li>
<p>Added Travis CI and coveralls to the Ark repository for automated deployment and testing.</p>
</li>
<li>
<p>Made Ark application open in list mode on startup. You can view the pull request <a href="https://github.com/CS2103AUG2017-T16-B1/main/pull/175">here</a></p>
</li>
<li>
<p>Add end-to-end internal logic for parcel tab click (this change is pretty huge).
You can view the pull request <a href="https://github.com/CS2103AUG2017-T16-B1/main/pull/175">here</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-nusvisions"><a class="link" href="#project-nusvisions">Project: NUSVisions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>NUSVisions is an application meant to help NUS students plan for the entire 4 years of their studies. It stores your
sessions to ensure that modules saved in your plans remain after a period of time. I deployed the web application on
a Heroku server and you can access it by clicking <a href="https://nusvision.herokuapp.com/">here</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 04:30:43 +00:00
</div>
</div>
</body>
</html>
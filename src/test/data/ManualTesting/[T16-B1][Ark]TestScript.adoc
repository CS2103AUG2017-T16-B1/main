= Ark - Test Script
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103AUG2017-T16-B1/main/tree/master

By: `Team T16-B1`      Since: `Sept 2017`      Licence: `MIT`

== Introduction

Ark is a parcel delivery management system to help delivery companies manage their parcels and their
deliveries. This test script is used help testers perform manual testing of Ark.

== Features to Test

*Test Format*

*Description* - Description of the feature you are testing. +
*Input* - Action to perform i.e. if `undo` -> `import ark_save`, this means enter `undo`, then enter `import ark_save` +
*Output* - Expected output description. +

=== Startup Tests

We have implemented some features that triggered automatically on startup. + 

==== Manual Testing

*Description:* On startup, if there are any parcels found with the OVERDUE status in the uncompleted parcel list
it will cause a popup window notifying the user of the number of OVERDUE parcels. +
*Input:* - +
*Expected output:* For the sample data xml file. A popup window with the title of "Important" will appear over the main window of the Ark application.
The content header will read "Overdue Parcels" and the content text will show
"You have parcels whose status are overdue\n Number of overdue parcels: 5"

*Description:* No popup window should show if there are no OVERDUE parcels +
*Input:* `clear` and close the application. Reopen the application again. +
*Expected output:* There should be no popup window.

*Description:* Startup automatically updates the status of parcels according to their date in Gui. +
*Input:* - +
*Expected output:* Download a new copy of the sample data. Check that the parcels in the newly downloaded
copy have had their Status updated in the running instance of Ark. (Update for PENDING and OVERDUE)

*Description:* Startup also saves the updated Status into the main storage file. +
*Input:* - +
*Expected output:* Open the original file that you used as the storage of this running instance.
Observe that the parcels in the save file will also updated Status. +

*Description:* Backup file stores the originals. +
*Input:* The backup file will be called `[T16-B1][Ark]SampleData.xml-backup.xml`. It is in the same directory
 as your main storage file. Open this file. +
*Expected output:* Observe that the parcels are not updated. Also observe that it is the same
as the new storage file that you had downloaded previously.

*Description:* Backup file does not backup if there is no storage file to read. +
*Input:* (Copy your Ark.jar into an empty folder (without any save files). +
*Expected output:* No backup is created. +

=== Add Command

*Command format:* `add #/TRACKING_NUMBER n/NAME [p/PHONE_NUMBER] [e/EMAIL] a/ADDRESS d/DELIVERYDATE [s/STATUS] [t/TAG]...` +
*Description:* This command allows you to add a single parcel into Ark. e.g. `add #/RR000000000SG n/John Hoe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/01-01-2001 s/DELIVERING` +

==== Manual Testing

*Description:* Regular add command +
*Input:* `add #/RR000000000SG n/John Aoe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/12-12-2019 s/DELIVERING` +
*Expected output:* Ark should add `John Aoe` to the parcel list. +

*Description:* Regular add command with updated status from OVERDUE to PENDING since today's date <= 12-12-2018  +
*Input:* `add #/RR000000000SG n/John Boe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/12-12-2018 s/OVERDUE` +
*Expected output:* Ark will add a 'John Boe' with Status `PENDING`, not `OVERDUE` (Updated if you can observe) +

*Description:* Regular add command with updated status from PENDING to OVERDUE since today's date > 10-12-2016 +
*Input:* `add #/RR000000000SG n/John Coe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/10-12-2016 s/PENDING` +
*Expected output:* Ark should add a `John Coe` with Status `OVERDUE`, not `PENDING` (Updated if as you can observe) +

*Description:* Regular add command, DELIVERING Status not updated +
*Input:* `add #/RR000000000SG n/John Foe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/12-12-2018 s/DELIVERING` +
*Expected output:* Ark should add a `John Foe` with Status `DELIVERING` +

*Description:* Regular add command, DELIVERING Status not updated +
*Input:* `add #/RR000000000SG n/John Goe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/10-12-2016 s/DELIVERING` +
*Expected output:* Ark should add a `John Goe` with Status `DELIVERING` +

*Description:* Regular add command, COMPLETED Status not updated +
*Input:* `add #/RR000000000SG n/John Hoe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/12-12-2018 s/COMPLETED` +
*Expected output:* Ark should add a `John Hoe` with Status `COMPLETED`. +

*Description:* Regular add command, COMPLETED Status not updated +
*Input:* `add #/RR000000000SG n/John Ioe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/10-12-2016 s/COMPLETED` +
*Expected output:* Ark should add a `John Ioe` with Status `COMPLETED` +

*Description:* Regular add command, PENDING Status is correct, not updated since today's date <= 12-12-2018. +
*Input:* `add #/RR000000000SG n/John Boe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/12-12-2018 s/PENDING` +
*Expected output:* Ark will add a 'John Boe' with Status `PENDING`. +

*Description:* Regular add command, OVERDUE Status is correct, not updated since today's date > 10-12-2016. +
*Input:* `add #/RR000000000SG n/John Coe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 S123121 d/10-12-2016 s/OVERDUE` +
*Expected output:* Ark should add a `John Coe` with Status `OVERDUE` +

=== Edit Command

*Command format:* `edit INDEX #/TRACKING_NUMBER n/NAME [p/PHONE_NUMBER] [e/EMAIL] a/ADDRESS d/DELIVERYDATE [s/STATUS] [t/TAG]...` +
*Description:* This command allows you to edit  parcel into Ark. e.g. `edit 1 p/91234567 e/johndoe@example.com`

==== Manual Testing

*Description:* Regular edit command +
*Input:* `edit 5 p/9123 e/johntoe@example.com s/DELIVERING` +
*Expected output:* Ark should edit the fifth parcel in the list to have an email of `johntoe@email.com` and phone `9123` +


=== Import Command

*Command format:* `import (FILE_NAME)`. e.g. `import ark_save` +
*Description:* This command allows you to add multiple parcels from a valid Ark storage file that is stored
 in the `./data/import/` directory. e.g. `import ark_save` will import `./data/import/ark_save.xml`. +
Presently, Ark only supports `.xml` storage files in format. +

Before you use test command, copy the following sample `.xml` files into Ark the directory
`./data/import/` : +

* [T16-B1][Ark]ark_save.xml
* [T16-B1][Ark]empty.xml
* [T16-B1][Ark]notXmlFormatAddressBook.xml

==== Manual Testing

*Description:* Regular import. +
*Input:* `import ark_save` +
*Expected output:* Ark should add the new parcels into the running instance of Ark. Duplicate parcels are ignored.
Duplicate parcels are parcels with the same details (every detail except Status and Tag is used for comparison).
Non-duplicate parcels are added. Ark should display of parcels added and parcels that are not added in the results box. +

*Description:*  Import the save file (will contain duplicate parcels now). +
*Input:* `import [T16-B1][Ark]ark_save` +
*Expected output:* Ark should warn you that all parcels in the save file are duplicate parcels. Nothing happens. +

*Description:* Importing an empty save file +
*Input:* `import [T16-B1][Ark]empty` +
*Expected output:* Ark should warn you that the file you want to import is empty.

*Description:* Importing a empty file that is not in a valid Ark save file format+
*Input:* `import [T16-B1][Ark]notXmlFormatArk` +
*Expected output:* Ark should give you details on how the import command should be used and inform you that
the file is not in a valid format. +

*Description:* Appending .xml to the file +
*Input:* `import [T16-B1][Ark]ark_save.xml` +
*Expected output:* Ark should give you details on how the import command should be used and inform you that
 the file should be a valid xml storage file that follows a naming convention of only underscores and
 alphanumeric characters. +

*Description:* Importing a missing file. +
*Input:* `import random` +
*Expected output:* Ark should inform you that the file cannot be found. +

*Description:* Importing a file with non-alphanumeric characters +
*Input:* `import ../hi` +
*Expected output:* Ark should give you details on how the import command should be used and inform you that
the file should be a valid xml storage file that follows a naming convention of only underscores and
alphanumeric characters. +

*Description:* Undo import command +
*Input:* `undo` +
*Expected output:* Previously imported files should be removed.

*Description:* Redo import command +
*Input:* `redo` +
*Expected output:* Redo previous command import command.

*Description:* Import command removes selection of previous panel +
*Input:* `undo` -> `select (any valid index)` -> `import [T16-B1][Ark]ark_save` +
*Expected output:* Import command removes the selection in the list but browser panel remains unchanged.









